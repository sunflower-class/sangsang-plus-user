apiVersion: v1
kind: ConfigMap
metadata:
  name: user-service-config
  namespace: sangsangplus-backend
data:
  application.yml: |
    server:
      port: 8081
      forward-headers-strategy: framework

    spring:
      application:
        name: user-service
        
      # kafka Configuration
      kafka:
        bootstrap-servers: sangsangplus-eventhubs.servicebus.windows.net:9093
      
      # Azure Event Hubs Configuration
      azure:
        eventhubs:
          namespace: sangsangplus-eventhubs
          connection-string: "Endpoint=sb://sangsangplus-eventhubs.servicebus.windows.net/;SharedAccessKeyName=UserProducerKey;SharedAccessKey=bL7m6coLCPDiFgnhFOg6HzQ+FSPhkjsBG+AEhPFs8ys=;EntityPath=user-events"
          eventhub-name: user-events
        
      datasource:
        url: ${DATABASE_URL}
        driver-class-name: org.postgresql.Driver
        username: ${DATABASE_USERNAME}
        password: ${DATABASE_PASSWORD}
      jpa:
        hibernate:
          ddl-auto: update
        properties:
          hibernate:
            dialect: org.hibernate.dialect.PostgreSQLDialect
            format_sql: true
        show-sql: false